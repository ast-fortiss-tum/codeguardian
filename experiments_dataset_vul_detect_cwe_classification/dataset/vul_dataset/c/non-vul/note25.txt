/* FIX: acquire a lock before conducting operations that need to occur
     * atomically, and release afterwards
*/