The function still processes and stores potentially sensitive data (username and password) in the parts object.
The core issue with CWE-200 is about how this sensitive data is subsequently managed, stored, and transmitted within the application. 
Simply modifying the input string manipulation doesn't address the potential exposure of sensitive information.